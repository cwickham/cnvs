<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting started with canvas • cnvs</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Getting started with canvas">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cnvs</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/cnvs.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/cnvs-use-examples.html">cnvs: avoiding point and click hell</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/cwickham/cnvs">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Getting started with canvas</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/cwickham/cnvs/blob/master/vignettes/cnvs.Rmd"><code>vignettes/cnvs.Rmd</code></a></small>
      <div class="hidden name"><code>cnvs.Rmd</code></div>

    </div>

    
    
<div id="credentials" class="section level2">
<h2 class="hasAnchor">
<a href="#credentials" class="anchor"></a>Credentials</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(cnvs)</a></code></pre></div>
<p>To use the the API to Canvas you need an access token. Access tokens are specific to your user account and Canvas domain. Your Canvas domain, <code>CANVAS_DOMAIN</code>, is the URL of your institution’s Canvas instance, e.g. <a href="https://oregonstate.instructure.com" class="uri">https://oregonstate.instructure.com</a> or, the instance provided by Instructure <a href="https://canvas.instructure.com/" class="uri">https://canvas.instructure.com/</a>.</p>
<p>You can request an access token at: <code>{CANVAS_DOMAIN}/profile/settings</code>, under “Approved Integrations:”. Once generated, your token is only visible once so make sure you copy it.</p>
<p>To verify your token and domain, pass them to the <code>.token()</code> and <code>.api_endpoint</code> arguments of <code><a href="../reference/cnvs_whoami.html">cnvs_whoami()</a></code>:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw"><a href="../reference/cnvs_whoami.html">cnvs_whoami</a></span>(<span class="dt">.token =</span> <span class="st">"mvvGbKyGK9n5T57qhEu8K1sNMt85OLoNGTepqd3v5NEcWMuxArSz5aaXppPjodr5eU"</span>,</a>
<a class="sourceLine" id="cb2-2" data-line-number="2">           <span class="dt">.api_url =</span> <span class="st">"https://canvas.instructure.com"</span>)</a></code></pre></div>
<p>The result should be successful and include your name and login id:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">  <span class="st">"name"</span><span class="op">:</span><span class="st"> "Charlotte Wickham"</span>,</a>
<a class="sourceLine" id="cb3-2" data-line-number="2">  <span class="st">"login_id"</span><span class="op">:</span><span class="st"> "cwickham@gmail.com"</span>,</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">  <span class="st">"domain"</span><span class="op">:</span><span class="st"> "https://canvas.instructure.com"</span>,</a>
<a class="sourceLine" id="cb3-4" data-line-number="4">  <span class="st">"token"</span><span class="op">:</span><span class="st"> "mv..."</span></a></code></pre></div>
<p>It is convenient to set environment variables to store your domain and token. cnvs looks for these in <code>CANVAS_DOMAIN</code> and <code>CANVAS_API_TOKEN</code> respectively. The easiest way to set them is to edit your <code>.Renviron</code> file:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="co"># install.pacakges("usethis")</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2">usethis<span class="op">::</span><span class="kw">edit_r_environ</span>()</a></code></pre></div>
<p>Add lines like these substituting in your own domain and token:</p>
<pre><code>CANVAS_DOMAIN="https://canvas.instructure.com"
CANVAS_API_TOKEN="mvvGbKyGK9n5T57qhEu8K1sNMt85OLoNGTepqd3v5NEcWMuxArSz5aaXppPjodr5eU"
</code></pre>
<p>Make sure your <code>.Renviron</code> file ends with an empty line.</p>
<p>Restart R and check by running <code><a href="../reference/cnvs_whoami.html">cnvs_whoami()</a></code> with no arguments:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw"><a href="../reference/cnvs_whoami.html">cnvs_whoami</a></span>()</a></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">  <span class="st">"name"</span><span class="op">:</span><span class="st"> "Charlotte Wickham"</span>,</a>
<a class="sourceLine" id="cb7-2" data-line-number="2">  <span class="st">"login_id"</span><span class="op">:</span><span class="st"> "cwickham@gmail.com"</span>,</a>
<a class="sourceLine" id="cb7-3" data-line-number="3">  <span class="st">"domain"</span><span class="op">:</span><span class="st"> "https://canvas.instructure.com"</span>,</a>
<a class="sourceLine" id="cb7-4" data-line-number="4">  <span class="st">"token"</span><span class="op">:</span><span class="st"> "mv..."</span></a></code></pre></div>
</div>
<div id="making-queries" class="section level2">
<h2 class="hasAnchor">
<a href="#making-queries" class="anchor"></a>Making queries</h2>
<p>To make query to the Canvas LMS API use the <code><a href="../reference/cnvs.html">cnvs()</a></code> function. The first argument is the API endpoint. <code><a href="../reference/cnvs.html">cnvs()</a></code> is designed to make it as easy as possible to copy and paste from the <a href="https://canvas.instructure.com/doc/api/">Canvas API documentation</a>.</p>
<p>As an example, imagine you want to see the disucssion topics in your course. Your first step is to find this task in the Canvas API docs — it is listed under the Discussions resource as <a href="https://canvas.instructure.com/doc/api/discussion_topics.html#method.discussion_topics.index">List discussion topics</a>. There are two endpoints listed there:</p>
<blockquote>
<p>GET /api/v1/courses/:course_id/discussion_topics</p>
</blockquote>
<blockquote>
<p>GET /api/v1/groups/:group_id/discussion_topics</p>
</blockquote>
<p>The first will list topics in a course and the second in a group — you want the first. Parts of the endpoint that are prefaced with a colon, <code>:</code>, are parameters, e.g. <code>:course_id</code> and <code>:group_id</code>. You will need to provide these parameters to <code><a href="../reference/cnvs.html">cnvs()</a></code> as named arguments (minus the <code>:</code>).</p>
<p>To make the query, copy and paste the endpoint to the first argument of <code>cvns()</code>, then add arugments for any parameters in the endpoint:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">discussions &lt;-<span class="st"> </span><span class="kw"><a href="../reference/cnvs.html">cnvs</a></span>(<span class="st">"GET /api/v1/courses/:course_id/discussion_topics"</span>, </a>
<a class="sourceLine" id="cb8-2" data-line-number="2">  <span class="dt">course_id =</span> <span class="dv">1732420</span>)</a></code></pre></div>
<p>I’m using a <code>course_id</code> for one of my courses, you’ll need to use your own (see <a href="#course-id">“How do I find my course id?”</a>).</p>
</div>
<div id="parsing-responses" class="section level2">
<h2 class="hasAnchor">
<a href="#parsing-responses" class="anchor"></a>Parsing responses</h2>
<p><code>cvns()</code> returns a list, but prints this list as JSON. You can access components as you would elements in a list:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">discussions[[<span class="dv">1</span>]]<span class="op">$</span>title</a>
<a class="sourceLine" id="cb9-2" data-line-number="2"><span class="co">#&gt; [1] "Introductions"</span></a></code></pre></div>
<p>Functions for parsing the results are beyond the scope of cnvs, but you can parse them yourself using iteration functions from purrr. For example, we could look at all the topic titles:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(purrr)</a>
<a class="sourceLine" id="cb10-2" data-line-number="2"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(dplyr)</a>
<a class="sourceLine" id="cb10-3" data-line-number="3"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb10-4" data-line-number="4"><span class="co">#&gt; Attaching package: 'dplyr'</span></a>
<a class="sourceLine" id="cb10-5" data-line-number="5"><span class="co">#&gt; The following objects are masked from 'package:stats':</span></a>
<a class="sourceLine" id="cb10-6" data-line-number="6"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb10-7" data-line-number="7"><span class="co">#&gt;     filter, lag</span></a>
<a class="sourceLine" id="cb10-8" data-line-number="8"><span class="co">#&gt; The following objects are masked from 'package:base':</span></a>
<a class="sourceLine" id="cb10-9" data-line-number="9"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb10-10" data-line-number="10"><span class="co">#&gt;     intersect, setdiff, setequal, union</span></a>
<a class="sourceLine" id="cb10-11" data-line-number="11">discussions <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb10-12" data-line-number="12"><span class="st">  </span><span class="kw"><a href="https://purrr.tidyverse.org/reference/map.html">map_chr</a></span>(<span class="st">"title"</span>)</a>
<a class="sourceLine" id="cb10-13" data-line-number="13"><span class="co">#&gt; [1] "Introductions"               "How do I find my course id?"</span></a>
<a class="sourceLine" id="cb10-14" data-line-number="14"><span class="co">#&gt; [3] "Q &amp; A"</span></a></code></pre></div>
<p>Or squeeze the entire response into a tibble:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">discussions <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://purrr.tidyverse.org/reference/map.html">map_dfr</a></span>(flatten_dfc) </a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="co">#&gt; # A tibble: 3 x 36</span></a>
<a class="sourceLine" id="cb11-3" data-line-number="3"><span class="co">#&gt;       id title last_reply_at created_at posted_at podcast_has_stu…</span></a>
<a class="sourceLine" id="cb11-4" data-line-number="4"><span class="co">#&gt;    &lt;int&gt; &lt;chr&gt; &lt;chr&gt;         &lt;chr&gt;      &lt;chr&gt;     &lt;lgl&gt;           </span></a>
<a class="sourceLine" id="cb11-5" data-line-number="5"><span class="co">#&gt; 1 8.09e6 Intr… 2019-10-02T1… 2019-10-0… 2019-10-… FALSE           </span></a>
<a class="sourceLine" id="cb11-6" data-line-number="6"><span class="co">#&gt; 2 8.09e6 How … 2019-10-02T1… 2019-10-0… 2019-10-… FALSE           </span></a>
<a class="sourceLine" id="cb11-7" data-line-number="7"><span class="co">#&gt; 3 8.09e6 Q &amp; A 2019-10-02T1… 2019-10-0… 2019-10-… FALSE           </span></a>
<a class="sourceLine" id="cb11-8" data-line-number="8"><span class="co">#&gt; # … with 30 more variables: discussion_type &lt;chr&gt;, allow_rating &lt;lgl&gt;,</span></a>
<a class="sourceLine" id="cb11-9" data-line-number="9"><span class="co">#&gt; #   only_graders_can_rate &lt;lgl&gt;, sort_by_rating &lt;lgl&gt;,</span></a>
<a class="sourceLine" id="cb11-10" data-line-number="10"><span class="co">#&gt; #   is_section_specific &lt;lgl&gt;, user_name &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb11-11" data-line-number="11"><span class="co">#&gt; #   discussion_subentry_count &lt;int&gt;, attach &lt;lgl&gt;, update &lt;lgl&gt;,</span></a>
<a class="sourceLine" id="cb11-12" data-line-number="12"><span class="co">#&gt; #   reply &lt;lgl&gt;, delete &lt;lgl&gt;, user_can_see_posts &lt;lgl&gt;, read_state &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb11-13" data-line-number="13"><span class="co">#&gt; #   unread_count &lt;int&gt;, subscribed &lt;lgl&gt;, published &lt;lgl&gt;,</span></a>
<a class="sourceLine" id="cb11-14" data-line-number="14"><span class="co">#&gt; #   can_unpublish &lt;lgl&gt;, locked &lt;lgl&gt;, can_lock &lt;lgl&gt;,</span></a>
<a class="sourceLine" id="cb11-15" data-line-number="15"><span class="co">#&gt; #   comments_disabled &lt;lgl&gt;, id1 &lt;int&gt;, display_name &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb11-16" data-line-number="16"><span class="co">#&gt; #   avatar_image_url &lt;chr&gt;, html_url &lt;chr&gt;, html_url1 &lt;chr&gt;, url &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb11-17" data-line-number="17"><span class="co">#&gt; #   pinned &lt;lgl&gt;, can_group &lt;lgl&gt;, locked_for_user &lt;lgl&gt;, message &lt;chr&gt;</span></a></code></pre></div>
</div>
<div id="passing-parameters-to-the-endpoint" class="section level2">
<h2 class="hasAnchor">
<a href="#passing-parameters-to-the-endpoint" class="anchor"></a>Passing parameters to the endpoint</h2>
<p>The Canvas API docs also describe parameters that can be passed in the body of a query to each endpoint in the “Parameters” section. You can add these as additional named arguments to <code><a href="../reference/cnvs.html">cnvs()</a></code>. For example, for <a href="https://canvas.instructure.com/doc/api/discussion_topics.html#method.discussion_topics.index">List discussion topics</a> a possible parameter is <code>only_announcements</code>, a boolean, that controls whether only annoucements are returned. You could add this to the call the <code><a href="../reference/cnvs.html">cnvs()</a></code> as another argument:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">announcements &lt;-<span class="st"> </span><span class="kw"><a href="../reference/cnvs.html">cnvs</a></span>(<span class="st">"GET /api/v1/courses/:course_id/discussion_topics"</span>, </a>
<a class="sourceLine" id="cb12-2" data-line-number="2">  <span class="dt">course_id =</span> <span class="dv">1732420</span>,</a>
<a class="sourceLine" id="cb12-3" data-line-number="3">  <span class="dt">only_announcements =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb12-4" data-line-number="4">announcements <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb12-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="https://purrr.tidyverse.org/reference/map.html">map_chr</a></span>(<span class="st">"title"</span>)</a>
<a class="sourceLine" id="cb12-6" data-line-number="6"><span class="co">#&gt; [1] "cnvs: avoiding point and click hell"</span></a></code></pre></div>
<p>Some parameters expect a more complicated object, for example the parameters to <a href="https://canvas.instructure.com/doc/api/modules.html#method.context_modules_api.create">create a module</a>, include:</p>
<blockquote>
<p><code>module[name]</code><br><code>module[unlock_at]</code><br><code>module[position]</code></p>
</blockquote>
<p>This notation, a parameter name followed by another in square brackets, indicates a hierachical structure. Canvas is expecting the <code>module</code> parameter to be a JSON object. In <code><a href="../reference/cnvs.html">cnvs()</a></code> this translates to a named list, e.g.:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">new_module &lt;-<span class="st"> </span><span class="kw"><a href="../reference/cnvs.html">cnvs</a></span>(<span class="st">"POST /api/v1/courses/:course_id/modules"</span>,</a>
<a class="sourceLine" id="cb13-2" data-line-number="2">  <span class="dt">course_id =</span> <span class="dv">1732420</span>,</a>
<a class="sourceLine" id="cb13-3" data-line-number="3">  <span class="dt">module =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</a>
<a class="sourceLine" id="cb13-4" data-line-number="4">    <span class="dt">name =</span> <span class="st">"First module"</span>,</a>
<a class="sourceLine" id="cb13-5" data-line-number="5">    <span class="dt">unlock_at =</span> <span class="st">"2019-09-01T6:59:00Z"</span>,</a>
<a class="sourceLine" id="cb13-6" data-line-number="6">    <span class="dt">position =</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb13-7" data-line-number="7">  ))</a></code></pre></div>
<p>If the square brackets are empty, Canvas is expecting a JSON array, which translates to an unnamed list in <code><a href="../reference/cnvs.html">cnvs()</a></code>. An example of this structure is the <code>quiz_extensions</code> parameter to <a href="https://canvas.instructure.com/doc/api/quiz_extensions.html#method.quizzes/quiz_extensions.create">set quiz extensions</a>, e.g.</p>
<blockquote>
<p><code>quiz_extensions[][user_id]</code><br><code>quiz_extensions[][extra_attempts]</code></p>
</blockquote>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">quiz_ext &lt;-<span class="st"> </span><span class="kw"><a href="../reference/cnvs.html">cnvs</a></span>(<span class="st">"POST /api/v1/courses/:course_id/quizzes/:quiz_id/extensions "</span>,</a>
<a class="sourceLine" id="cb14-2" data-line-number="2">  <span class="dt">course_id =</span> <span class="dv">1732420</span>,</a>
<a class="sourceLine" id="cb14-3" data-line-number="3">  <span class="dt">quiz_id =</span> <span class="dv">4358314</span>,</a>
<a class="sourceLine" id="cb14-4" data-line-number="4">  <span class="dt">quiz_extensions =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</a>
<a class="sourceLine" id="cb14-5" data-line-number="5">    <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</a>
<a class="sourceLine" id="cb14-6" data-line-number="6">      <span class="dt">user_id =</span> <span class="dv">99999</span>,</a>
<a class="sourceLine" id="cb14-7" data-line-number="7">      <span class="dt">extra_attempts =</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb14-8" data-line-number="8">    ),</a>
<a class="sourceLine" id="cb14-9" data-line-number="9">    <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</a>
<a class="sourceLine" id="cb14-10" data-line-number="10">      <span class="dt">user_id =</span> <span class="dv">99998</span>,</a>
<a class="sourceLine" id="cb14-11" data-line-number="11">      <span class="dt">extra_attempts =</span> <span class="dv">2</span></a>
<a class="sourceLine" id="cb14-12" data-line-number="12">    )</a>
<a class="sourceLine" id="cb14-13" data-line-number="13">  )</a>
<a class="sourceLine" id="cb14-14" data-line-number="14">)</a></code></pre></div>
</div>
<div id="course-id" class="section level2">
<h2 class="hasAnchor">
<a href="#course-id" class="anchor"></a>How do I find my course ID?</h2>
<p>One option is to visit your course in Canvas and examine the URL:</p>
<pre><code>https://canvas.instructure.com/courses/1732420</code></pre>
<p>Your course ID comes right after <code>/courses/</code>, e.g. 1732420 in this case.</p>
<p>Alternatively, from R, the default <code>cvns()</code> endpoint is `/api/v1/courses’ which will list all your courses:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1">my_courses &lt;-<span class="st"> </span><span class="kw"><a href="../reference/cnvs.html">cnvs</a></span>() </a></code></pre></div>
<p>Then you need to parse them and look for the <code>id</code> columns in the appropriate row:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1">my_courses <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb17-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="https://purrr.tidyverse.org/reference/map.html">map_dfr</a></span>(<span class="kw"><a href="https://purrr.tidyverse.org/reference/compose.html">compose</a></span>(compact, tibble<span class="op">::</span>as_tibble, <span class="dt">.dir =</span> <span class="st">"forward"</span>))</a>
<a class="sourceLine" id="cb17-3" data-line-number="3"><span class="co">#&gt; # A tibble: 7 x 27</span></a>
<a class="sourceLine" id="cb17-4" data-line-number="4"><span class="co">#&gt;       id name  account_id uuid  start_at is_public created_at course_code</span></a>
<a class="sourceLine" id="cb17-5" data-line-number="5"><span class="co">#&gt;    &lt;int&gt; &lt;chr&gt;      &lt;int&gt; &lt;chr&gt; &lt;chr&gt;    &lt;lgl&gt;     &lt;chr&gt;      &lt;chr&gt;      </span></a>
<a class="sourceLine" id="cb17-6" data-line-number="6"><span class="co">#&gt; 1 8.56e5 Deve…      81259 n1lm… 2014-05… FALSE     2014-05-1… DOC        </span></a>
<a class="sourceLine" id="cb17-7" data-line-number="7"><span class="co">#&gt; 2 9.46e5 ST49…      81259 O8tA… 2015-06… TRUE      2015-06-1… ST499/599 …</span></a>
<a class="sourceLine" id="cb17-8" data-line-number="8"><span class="co">#&gt; 3 9.78e5 ST50…      81259 4Ogf… 2015-10… TRUE      2015-10-1… ST505 ST511</span></a>
<a class="sourceLine" id="cb17-9" data-line-number="9"><span class="co">#&gt; 4 1.17e6 ST51…      81259 24SS… 2017-06… TRUE      2017-06-1… ST511      </span></a>
<a class="sourceLine" id="cb17-10" data-line-number="10"><span class="co">#&gt; 5 9.44e5 Stat…      81259 EqGR… 2015-06… FALSE     2015-06-0… Stat 499/5…</span></a>
<a class="sourceLine" id="cb17-11" data-line-number="11"><span class="co">#&gt; 6 9.44e5 Stat…      81259 EqGR… 2015-06… FALSE     2015-06-0… Stat 499/5…</span></a>
<a class="sourceLine" id="cb17-12" data-line-number="12"><span class="co">#&gt; 7 1.73e6 Test…      81259 RIIU… &lt;NA&gt;     FALSE     2019-10-0… Testing    </span></a>
<a class="sourceLine" id="cb17-13" data-line-number="13"><span class="co">#&gt; # … with 19 more variables: default_view &lt;chr&gt;, root_account_id &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb17-14" data-line-number="14"><span class="co">#&gt; #   enrollment_term_id &lt;int&gt;, license &lt;chr&gt;, public_syllabus &lt;lgl&gt;,</span></a>
<a class="sourceLine" id="cb17-15" data-line-number="15"><span class="co">#&gt; #   public_syllabus_to_auth &lt;lgl&gt;, storage_quota_mb &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb17-16" data-line-number="16"><span class="co">#&gt; #   is_public_to_auth_users &lt;lgl&gt;, apply_assignment_group_weights &lt;lgl&gt;,</span></a>
<a class="sourceLine" id="cb17-17" data-line-number="17"><span class="co">#&gt; #   calendar &lt;list&gt;, time_zone &lt;chr&gt;, blueprint &lt;lgl&gt;, enrollments &lt;list&gt;,</span></a>
<a class="sourceLine" id="cb17-18" data-line-number="18"><span class="co">#&gt; #   hide_final_grades &lt;lgl&gt;, workflow_state &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb17-19" data-line-number="19"><span class="co">#&gt; #   restrict_enrollments_to_course_dates &lt;lgl&gt;, grading_standard_id &lt;int&gt;,</span></a>
<a class="sourceLine" id="cb17-20" data-line-number="20"><span class="co">#&gt; #   end_at &lt;chr&gt;, locale &lt;chr&gt;</span></a></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#credentials">Credentials</a></li>
      <li><a href="#making-queries">Making queries</a></li>
      <li><a href="#parsing-responses">Parsing responses</a></li>
      <li><a href="#passing-parameters-to-the-endpoint">Passing parameters to the endpoint</a></li>
      <li><a href="#course-id">How do I find my course ID?</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Charlotte Wickham, Gábor Csárdi, Jennifer Bryan, <a href="http://hadley.nz">Hadley Wickham</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
