<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Canvas LMS API • cnvs</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Canvas LMS API">
<meta property="og:description" content="Minimal client to access the Canvas LMS API.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">cnvs</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="articles/cnvs.html">Get started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/cnvs-use-examples.html">cnvs: avoiding point and click hell</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/cwickham/cnvs/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="cnvs" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#cnvs" class="anchor"></a>cnvs</h1></div>
<!-- badges: start -->

<p>Minimalistic client to access the <a href="https://canvas.instructure.com/doc/api/index.html">Canvas LMS API</a>. Heavily borrowing from the infrastructure of <a href="https://github.com/r-lib/gh">gh</a></p>
<div id="philospophy" class="section level2">
<h2 class="hasAnchor">
<a href="#philospophy" class="anchor"></a>Philospophy</h2>
<p>cnvs is intentionally minimalist. To use it, you will need to become familiar with the <a href="https://canvas.instructure.com/doc/api/index.html">Canvas API documentation</a>. cnvs does no checking on the endpoints you provide, nor the objects you pass. This has the advantage that cnvs is not dependent on the specifics of the Canvas API. cnvs also does no parsing of response content, you will need to extract the desired information from the returned lists yourself.</p>
<p>While cnvs does facilite the automation of repetitive tasks in Canvas from R, it still requires a fair bit of expertise from the user. The hope is to use it as a foundation for a higher level api package, that is more user-friendly.</p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Install the package from GitHub:</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="co"># install.packages("remotes")</span>
<span class="kw">remotes</span>::<span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span>(<span class="st">"cwickham/cnvs"</span>)
</pre></div>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="kw"><a href="https://cwickham.github.io/cnvs">cnvs</a></span>)
</pre></div>
<p>Use the <code><a href="reference/cnvs.html">cnvs()</a></code> function to access all API endpoints. The endpoints are listed in the <a href="https://canvas.instructure.com/doc/api/index.html">documentation</a>.</p>
<p>The first argument of <code><a href="reference/cnvs.html">cnvs()</a></code> is the endpoint. Note that the leading <code>/api/v1/</code> must be included as well, but this facilitates copy and pasting directly from the documentation. Parameters can be passed as extra arguments. E.g.</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="kw">my_courses</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/cnvs.html">cnvs</a></span>(<span class="st">"/api/v1/courses"</span>, enrollment_type = <span class="st">"teacher"</span>)
<span class="fu"><a href="https://rdrr.io/r/base/lapply.html">vapply</a></span>(<span class="kw">my_courses</span>, <span class="st">"[["</span>, <span class="st">""</span>, <span class="st">"name"</span>)
<span class="co">#&gt; [1] "ST499/599 Topics in Data Visualization"</span>
<span class="co">#&gt; [2] "ST505 for ST511"                       </span>
<span class="co">#&gt; [3] "ST511 Summer 2017"                     </span>
<span class="co">#&gt; [4] "Stat 499/599, Data Programming in R"   </span>
<span class="co">#&gt; [5] "Testing for cnvs"</span>
</pre></div>
<p>The JSON result sent by the API is converted to an R object.</p>
<p>If the end point itself has parameters, these can also be passed as extra arguments:</p>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="kw">test_modules</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/cnvs.html">cnvs</a></span>(<span class="st">"/api/v1/courses/:course_id/modules"</span>, 
  course_id = <span class="fl">1732420</span>)
<span class="fu"><a href="https://rdrr.io/r/base/lapply.html">vapply</a></span>(<span class="kw">test_modules</span>, <span class="st">"[["</span>, <span class="st">""</span>, <span class="st">"name"</span>)
<span class="co">#&gt; [1] "First module" "First module" "First module" "First module"</span>
<span class="co">#&gt; [5] "First module" "Test module"  "First module"</span>
</pre></div>
<div id="post-patch-put-and-delete-requests" class="section level3">
<h3 class="hasAnchor">
<a href="#post-patch-put-and-delete-requests" class="anchor"></a>POST, PATCH, PUT and DELETE requests</h3>
<p>POST, PUT, and DELETE requests can be sent by including the HTTP verb before the endpoint, in the first argument. For example, to create a module:</p>
<div class="sourceCode" id="cb5"><pre class="downlit">
<span class="kw">new_module</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/cnvs.html">cnvs</a></span>(<span class="st">"POST /api/v1/courses/:course_id/modules"</span>,
  course_id = <span class="fl">1732420</span>,  <span class="co"># set a parameter in the endpoint `:course_id`</span>
  module = <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(        <span class="co"># a parameter sent in the body</span>
    name = <span class="st">"First module"</span>,
    position = <span class="fl">1</span>
  )
)
</pre></div>
<div class="sourceCode" id="cb6"><pre class="downlit">
<span class="kw">test_modules</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/cnvs.html">cnvs</a></span>(<span class="st">"/api/v1/courses/:course_id/modules"</span>, 
  course_id = <span class="fl">1732420</span>)
<span class="fu"><a href="https://rdrr.io/r/base/lapply.html">vapply</a></span>(<span class="kw">test_modules</span>, <span class="st">"[["</span>, <span class="st">""</span>, <span class="st">"name"</span>)
<span class="co">#&gt; [1] "First module" "First module" "First module" "First module"</span>
<span class="co">#&gt; [5] "First module" "First module" "Test module"  "First module"</span>
</pre></div>
<p>Then update the name of the module:</p>
<div class="sourceCode" id="cb7"><pre class="downlit">
<span class="kw">update_module</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/cnvs.html">cnvs</a></span>(<span class="st">"PUT /api/v1/courses/:course_id/modules/:id"</span>,
  course_id = <span class="fl">1732420</span>,
  id = <span class="kw">new_module</span><span class="op">$</span><span class="kw">id</span>,
  module = <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(
    name = <span class="st">"Module 1"</span>
  )
)
</pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit">
<span class="kw">test_modules</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/cnvs.html">cnvs</a></span>(<span class="st">"/api/v1/courses/:course_id/modules"</span>, 
  course_id = <span class="fl">1732420</span>)
<span class="fu"><a href="https://rdrr.io/r/base/lapply.html">vapply</a></span>(<span class="kw">test_modules</span>, <span class="st">"[["</span>, <span class="st">""</span>, <span class="st">"name"</span>)
<span class="co">#&gt; [1] "Module 1"     "First module" "First module" "First module"</span>
<span class="co">#&gt; [5] "First module" "First module" "Test module"  "First module"</span>
</pre></div>
<p>Then, finally, delete the module:</p>
<div class="sourceCode" id="cb9"><pre class="downlit">
<span class="fu"><a href="reference/cnvs.html">cnvs</a></span>(<span class="st">"DELETE /api/v1/courses/:course_id/modules/:id"</span>,
  course_id = <span class="fl">1732420</span>,
  id = <span class="kw">new_module</span><span class="op">$</span><span class="kw">id</span>
)
<span class="co">#&gt; {</span>
<span class="co">#&gt;   "id": 3539337,</span>
<span class="co">#&gt;   "position": 1,</span>
<span class="co">#&gt;   "name": "Module 1",</span>
<span class="co">#&gt;   "unlock_at": {},</span>
<span class="co">#&gt;   "require_sequential_progress": false,</span>
<span class="co">#&gt;   "publish_final_grade": false,</span>
<span class="co">#&gt;   "prerequisite_module_ids": [],</span>
<span class="co">#&gt;   "published": false,</span>
<span class="co">#&gt;   "items_count": 0,</span>
<span class="co">#&gt;   "items_url": "https://canvas.instructure.com/api/v1/courses/1732420/modules/3539337/items"</span>
<span class="co">#&gt; }</span>
</pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit">
<span class="kw">test_modules</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/cnvs.html">cnvs</a></span>(<span class="st">"/api/v1/courses/:course_id/modules"</span>, 
  course_id = <span class="fl">1732420</span>)
<span class="fu"><a href="https://rdrr.io/r/base/lapply.html">vapply</a></span>(<span class="kw">test_modules</span>, <span class="st">"[["</span>, <span class="st">""</span>, <span class="st">"name"</span>)
<span class="co">#&gt; [1] "First module" "First module" "First module" "First module"</span>
<span class="co">#&gt; [5] "First module" "Test module"  "First module"</span>
</pre></div>
</div>
<div id="uploading-files" class="section level3">
<h3 class="hasAnchor">
<a href="#uploading-files" class="anchor"></a>Uploading files</h3>
<p>To upload files use the <code><a href="reference/cnvs_upload.html">cnvs_upload()</a></code> function. You need to locate the endpoint for the required context of the file. E.g. To <a href="https://canvas.instructure.com/doc/api/courses.html#method.courses.create_file">upload a course file</a> the endpoint is:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">POST <span class="op">/</span>api<span class="op">/</span>v1<span class="op">/</span>courses<span class="op">/</span><span class="er">:</span>course_id<span class="op">/</span>files </a></code></pre></div>
<p>Whereas to <a href="https://canvas.instructure.com/doc/api/submissions.html#method.submissions_api.create_file">upload a file as an submission</a> the endpoint is:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode R"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">POST <span class="op">/</span>api<span class="op">/</span>v1<span class="op">/</span>courses<span class="op">/</span><span class="er">:</span>course_id<span class="op">/</span>assignments<span class="op">/</span><span class="er">:</span>assignment_id<span class="op">/</span>submissions<span class="op">/</span><span class="er">:</span>user_id<span class="op">/</span>files</a></code></pre></div>
<p>Pass this endpoint to <code><a href="reference/cnvs_upload.html">cnvs_upload()</a></code> along with path to the file you wish to upload:</p>
<div class="sourceCode" id="cb13"><pre class="downlit">
<span class="fu"><a href="reference/cnvs_upload.html">cnvs_upload</a></span>(<span class="st">"/api/v1/courses/:course_id/files"</span>,
  path = <span class="st">"notes.pdf"</span>, course_id = <span class="st">"1732420"</span>, parent_folder_path = <span class="st">"handouts/"</span>)
</pre></div>
<p>Like <code><a href="reference/cnvs.html">cnvs()</a></code> you can specify parameters in the endpoint, like <code>course_id</code>, or parameters in the body of the request like <code>parent_folder_path</code> as additional arguments.</p>
</div>
<div id="pagination" class="section level3">
<h3 class="hasAnchor">
<a href="#pagination" class="anchor"></a>Pagination</h3>
<p>Supply the <code>page</code> parameter to get subsequent pages:</p>
<div class="sourceCode" id="cb14"><pre class="downlit">
<span class="kw">my_courses2</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/cnvs.html">cnvs</a></span>(<span class="st">"/api/v1/courses"</span>, enrollment_type = <span class="st">"teacher"</span>,
  page = <span class="fl">2</span>)
<span class="fu"><a href="https://rdrr.io/r/base/lapply.html">vapply</a></span>(<span class="kw">my_courses2</span>, <span class="st">"[["</span>, <span class="st">""</span>, <span class="st">"name"</span>)
</pre></div>
</div>
</div>
<div id="license" class="section level2">
<h2 class="hasAnchor">
<a href="#license" class="anchor"></a>License</h2>
<p>cnvs: MIT © Charlotte Wickham</p>
<p>The code is mostly minor edits to the <a href="https://github.com/r-lib/gh">gh</a> package:</p>
<p>gh: MIT © Gábor Csárdi, Jennifer Bryan, Hadley Wickham</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/cwickham/cnvs/">https://​github.com/​cwickham/​cnvs/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/cwickham/cnvs/issues">https://​github.com/​cwickham/​cnvs/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Charlotte Wickham <br><small class="roles"> Maintainer, contributor </small>  </li>
<li>Gábor Csárdi <br><small class="roles"> Author </small>  <br><small>(gh package)</small>
</li>
<li>Jennifer Bryan <br><small class="roles"> Author </small>  <br><small>(gh package)</small>
</li>
<li>
<a href="http://hadley.nz">Hadley Wickham</a> <br><small class="roles"> Author </small>  <br><small>(gh package)</small>
</li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.tidyverse.org/lifecycle/#experimental"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://travis-ci.org/cwickham/cnvs"><img src="https://travis-ci.org/cwickham/cnvs.svg?branch=master" alt="{Travis build status}"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Charlotte Wickham, Gábor Csárdi, Jennifer Bryan, <a href="http://hadley.nz">Hadley Wickham</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
